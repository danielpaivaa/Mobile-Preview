<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <link href="./styles.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css"
    />
  </head>
  <body>
    <div class="flex flex-wrap bg-black py-2 px-1.5 overflow-hidden" style="height: 611px;">
      <!-- Top bar -->
      <div class="flex-none flex flex-nowrap w-full bg-white p-2 rounded-t-xl text-xs">
        <div class="flex gap-1 w-4/12">
          <span id="hour">13:01</span>
          <i class="bi-whatsapp"></i>
          <i class="bi-instagram"></i>
          <i class="bi-youtube"></i>
        </div>
        <div class="w-4/12 text-center">
          <i class="bi-record-circle-fill"></i>
        </div>
        <div class="w-4/12 text-right">
          <i class="bi-wifi"></i>
          <i class="bi-reception-3"></i>
          <i class="bi-reception-4"></i>
          <i class="bi-battery-half"></i>
        </div>
      </div>
      <!-- End Top bar -->

      <!-- Content -->
      <div class="grow w-full flex items-center justify-center bg-slate-900" style="height: 521px;">
        <!-- Form -->
        <div class="flex flex-wrap items-center justify-center text-center" id="form">
          <input type="text" id="port" class="px-3 py-2 w-full bg-white text-slate-900 rounded-lg mb-1
            focus:outline-2 focus:outline-teal-700" placeholder="Digite a porta" />
          <button onclick="load()" class="px-3 py-2 w-full bg-gradient-to-b from-teal-600 to-teal-700
            hover:bg-gradient hover:from-teal-700 hover:to-teal-800 transition duration-500
            text-white rounded-lg focus:outline-2 focus:outline-teal-700">
            Carregar
          </button>
        </div>
        <!-- iframe -->
        <iframe src="" id="win" frameborder="2" class="hidden h-full w-full bg-white"></iframe>
      </div>
      <!-- End Content -->

      <!-- Buttons -->
      <div
        class=" flex-none flex justify-evenly w-full bg-white rounded-b-xl p-2 cursor-default"
      >
        <div class="text-center">
          <i class="bi-list"></i>
        </div>
        <div class="text-center">
          <i class="bi-app"></i>
        </div>
        <div class="text-center cursor-pointer" onclick="back()">
          <i class="bi-chevron-left"></i>
        </div>
      </div>
      <!-- End Buttons -->
    </div>

    <script src="./renderer.js"></script>
    <script>
      let iframe = document.getElementById("win");
      let form = document.getElementById("form");
      
      function load() {
        let port = document.getElementById("port").value;
        let url = "http://localhost:" + port;

        iframe.src = url;
        iframe.classList.toggle("hidden");
        form.classList.toggle("hidden");
      }

      function back() {
        if(!iframe.classList.contains("hidden")) {
          iframe.classList.toggle("hidden");
          form.classList.toggle("hidden");
        }
      }
    </script>
  </body>
</html>
